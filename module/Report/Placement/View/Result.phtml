<?php
$content = $this->details;
$summary = $content ['summary'];
$details = $content ['details'];
?><div class="seperator"></div>
<div class="review_summary">
	<div class="datatablecontent">
		<div class="list">
			<div id="datatable">
				<div class="jtable-main-container">
					<table class="jtable" style="width: 40%;">
						<thead>
							<tr>
								<th class="jtable-column-header" colspan="2"><span
									class="jtable-column-header-text"><?php echo $this->translate('text_summary'); ?></span>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr class="jtable-data-row jtable-row-even">
								<td style="white-space: nowrap; width: 50%;"><?php echo $this->translate('text_filter_date_from'); ?>&nbsp;:</td>
								<td><?php echo $summary['start_date']; ?></td>
							</tr>
							<tr class="jtable-data-row jtable-row-odd">
								<td style="white-space: nowrap;"><?php echo $this->translate('text_filter_date_to'); ?>&nbsp;:</td>
								<td><?php echo $summary['end_date']; ?></td>
							</tr>
							<tr class="jtable-data-row jtable-row-even">
								<td style="white-space: nowrap;"><?php echo $this->translate('text_total_user'); ?>&nbsp;:</td>
								<td><?php echo $summary['total_user']; ?></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="review_details">
	<div class="datatablecontent">
		<div class="list">
			<div id="datatable">
				<div class="jtable-main-container"><?php
				if (is_array ( $details ) && count ( $details ) > 0) {
					$summary_rank = $summary ['rank'];
					foreach ( $details as $details_key => $details_value ) {
						$rank_text = "";
						$total_user = "";
						if (array_key_exists ( $details_key, $summary_rank )) {
							$rank_text = $summary_rank [$details_key] ['rank'];
							$total_user = $summary_rank [$details_key] ['total_user'];
						}
						echo '<br>' . $this->translate ( 'text_user_rank' ) . '&nbsp;:<b>' . $rank_text . '</b>&nbsp;&nbsp;' . $this->translate ( 'text_total_user' ) . '&nbsp;:<b>' . $total_user . '</b>';
						?>
					<table class="jtable">
						<thead>
							<tr>
								<th class="jtable-column-header"><span
									class="jtable-column-header-text"><?php
						echo $this->translate ( 'text_no' );
						?></span></th>
								<th class="jtable-column-header"><span
									class="jtable-column-header-text"><?php
						echo $this->translate ( 'text_user_access_username' );
						?></span></th>
								<th class="jtable-column-header"><span
									class="jtable-column-header-text"><?php
						echo $this->translate ( 'text_user_hierarchy_placement_username' );
						?></span></th>
								<th class="jtable-column-header"><span
									class="jtable-column-header-text"><?php
						echo $this->translate ( 'text_user_access_created_by' );
						?></span></th>
								<th class="jtable-column-header"><span
									class="jtable-column-header-text"><?php
						echo $this->translate ( 'text_user_access_created_date' );
						?></span></th>
							</tr>
						</thead>
						<tbody><?php
						if (is_array ( $details_value ) && count ( $details_value ) > 0) {
							$count = 1;
							foreach ( $details_value as $data ) {
								?><tr
								class="jtable-data-row jtable-row-<?php echo ((boolean) ($count % 2) ? "odd" : "even"); ?>">
								<td><?php echo $count; ?></td>
								<td><?php echo $data['user_access_username']; ?></td>
								<td><?php echo $data['user_hierarchy_placement_username']; ?></td>
								<td><?php echo $data['user_access_created_by']; ?></td>
								<td><?php echo $data['user_access_created_date_format']; ?></td>
							</tr><?php
								$count ++;
							}
						}
						?></tbody>
					</table><?php
					}
				}
				?></div>
			</div>
		</div>
	</div>
</div>
